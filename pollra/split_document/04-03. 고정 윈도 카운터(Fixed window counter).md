- 타임라인(timeline)을 고정된 간격의 윈도(window)로 나누고, 각 윈도마다 카운터(counter) 를 붙인다
- 요청이 접수될 때마다 이 카운터의 값은 1씩 증가한다
- 이 카운터의 값이 사전에 설정된 임계치(threshold) 에 도달하면 새로운 요청은 새 윈도가 열릴 때 까지 버려진다
![[스크린샷 2024-11-17 오후 4.45.18.png]]
# 문제점
- 윈도의 경계 부근에 순간적으로 많은 트래픽이 집중 될 경우 윈도에 할당된 양보다 더 많은 요청이 처리될 수 있다
![[스크린샷 2024-11-17 오후 6.24.52.png]]
윈도우의 간격을 1분, 카운터를 5로 두고, 아래의 경우를 생각 해 보자
1. 2:01.31 에 5개의 요청이 들어옴
2. 2:02.29 에 5개의 요청이 들어옴
그럼 위의 경우 처럼 1분에 총 10개의 카운트를 처리하게 된다
허용 한도의 두배를 처리하게 되는 것
# 장점
- 메모리 효율이 좋다
- 이해하기 쉽다
- 윈도가 닫히는 시점에 카운터를 초기화 하는 방식은 특정한 트래픽 패턴을 처리하기에 적합하다
# 단점
윈도우 경계 부분에서 일시적으로 많은 트래픽이 몰려드는 경우, 기대했던 시스템의 처리 한도보다 많은 양의 요청을 처리하게 된다
