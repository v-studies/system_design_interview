[[04-03. 고정 윈도 카운터(Fixed window counter)]] 에서 다룬 문제점을 해결할 수 있는 알고리즘
- 요청의 타임스탬프를 추적한다
	- 보통 Redis 의 정렬 집합(sorted set) 같은 캐시에 보관 함
- 새 요청이 오면 만료된 타임스탬프는 제거한다
	- 만료된 타임스탬프는 그 값이 현재 윈도의 시작 시점보다 오래된 타임스탬프를 말함
- 새 요청의 타임스탬프를 로그(log) 에 추가한다
- 로그의 크기가 허용치보다 같거나 작으면 요청을 시스템에 전달. 그렇지 않은 경우 처리 거부
![[스크린샷 2024-11-17 오후 6.44.11.png]]
# 장점
- 어느 순간의 윈도(window)를 보더라도 허용되는 요청의 개수는 시스템의 처리율 한도를 넘지 않는다
# 단점
- 다량의 메모리는 사용하는데, 거부된 요청의 타임스탬프도 보관하기 때문
