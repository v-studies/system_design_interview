누출 버킷 알고리즘은 보통 FIFO Queue 로 구현한다
- 요청이 도착하면 큐가 가득 차 있는지 본다. 
	- 빈 자리가 있다면 큐에 요청을 추가 한다
	- 가득 차있는 경우, 새 요청은 버린다
- 지정된 시간 마다 큐에서 요청을 꺼내어 처리한다
![[스크린샷 2024-11-17 오후 4.34.12.png]]
## 사용되는 인자
- 버킷 크기: 큐 사이즈와 같은 값. 큐에는 처리될 항목들이 보관됨
- 처리율(Outflow rate): 지정된 시간당 몇 개의 항목을 처리할지 지정하는 값. 보통 초단위
# 장점
- 큐의 크기가 제한되어 있어 메모리 사용량 측면에서 효율적이다
- 고정된 처리율을 갖고 있기 때문에 안정적 출력(Stable outflow rate) 이 필요한 경우 적합
# 단점
- 트래픽 집중 시간에 정상요청 유실 가능성
	- 단시간에 많은 트래픽이 몰릴 때, 큐에는 오래된 요청들이 쌓이게 되고 그 요청들을 제때 처리 못하면 최신 요청들은 버려지게 된다
- 버킷 크기, 처리율. 이 두 인자를 올바르게 튜닝하기 까다롭다
---
- 전자상거래 기업인 쇼피파이(Shopify) 가 이 알고리즘을 사용하여 처리율 제한을 구현하고 있다.