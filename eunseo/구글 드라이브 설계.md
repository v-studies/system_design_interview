![image](https://github.com/user-attachments/assets/12e1f42b-a04d-41a1-adae-b58a4d570cb2)

- 강한 일관성을 지원해야 하기 때문에, ACID를 보장하는 관계형 데이터베이스 체택하기 / 확장성을 생각한다면 NoSQL이 유리함
- 클라우드에 저장하기 전, 블록단위로 분할 -> 압축 -> 암호화 이후에 클라우드 저장소에 저장하는 것이 좋다. (파일을 블록단위로 나누는 방법은 고민 필요)
- 동기화 방법 (알림 서비스 이용 : 롱폴링)  
    - 클라이언트 A가 접속중일 경우 : 다른 클라이언트가 파일을 변경하면 알림 서비스가 클라이언트 A에게 변경이 발생했으니 새 버전을 다운로드 받으라고 알려줌.
    - 접속중이 아닐 경우 : 데이터는 캐시에 보관될 것이다. 해당 클라이언트가 접속중으로 바뀌면 그때 새 버전을 가져가도록 해야함.
 
- 웹 소켓 대신 롱폴링이 좋은 이유 : 양방향 통신이 필요하지 않으므로 각 클라이언트는 알림 서버와 롱 폴링용 연결을 유지하다가 특정 파일에 대한 변경을 감지하면 해당 연결을 끊고 메타데이터 서버와 연결해 파일의 최신 내역을 다운로드 하면 된다(?) 

## 롱폴링
![image](https://github.com/user-attachments/assets/a8e3ec29-a39e-41c1-98e4-931813e1d433)
- 롱 폴링은 주기적으로 새 메시지가 있는지 확인하는 대신 새 메시지가 반환되거나 타임 아웃될 때까지 연결을 유지한다. 새 메시지를 받으면 기존 열결을 종료하고 서버에 새로운 요청을 보내어 모든 절차를 다시 시작한다.
- 서버와 클라이언트 간의 간헐적인 데이터 교환만 필요한 경우 효과적임 
