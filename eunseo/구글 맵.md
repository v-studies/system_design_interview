## 요구사항
- 사용자 위치 갱신
- 경로 안내 서비스
- 지도 표시



![image](https://github.com/user-attachments/assets/dc5edf85-c872-4619-9b2b-ac4c8b4d2cbb)




#### 1. 위치 서비스 (POST /v1/locations)
- 사용자 위치 정보는 자주 갱신된다. 얼마나 자주인지는 정하기 나름이겠지만 보통 수 초 단위일 것이다. 
- 많은 쓰기 요청 빈도에 최적화되어 있고 규모 확장에 용이한 cassandra를 DB로 사용한다.
    - CAP 정리에 따르면 일관성, 가용성, 분할 내성 모두를 만족시킬 방법은 없다.
   -  카산드라는 일관성 버리더라도 가용성과 분할 내성이 중요할 때 유용하다. (일부 노드가 죽어도 나머지 노드가 계속 요청을 처리함, 네트워크가 분리되어도 시스템이 동작할 수 있어야 한다) 
- 위치 이력을 버퍼링해 두었다가 일괄 요청하면 전송 빈도를 줄일 수 있다. (위치 변경 내역은 매초 측정하긴 하지만 서버로는 15초마다 보냄)
- 통신 프로토콜로는 HTTP keep-alive 옵션과 함께 사용하면 효율을 높일 수 있다. 





#### 2. 경로 안내 서비스 (GET /v1/nav?origin=1355+market+street, SF&detination=Disneyland) 
- API 요청에 출발지와 목적지를 인자로 전달한다.



경로 탐색 :  (교차로를 노드, 도로는 노드를 잇는 선(edge)으로 표현하는 그래프 자료 구조 가정) 

- 그래프 데이터는 경로 안내 서비스가 참조할 바이너리 데이터로 정적 지도 DB에 저장된다.


#### 3. 지도표시
- 이미지는 지도 표시에 사용하는 확대 수준별로 미리 만들어 두고 CDN을 통해 전송한다.
- 해당 타일이 CDN을 통해 서비스된 적이 없는 경우, CDN은 원본 서버에서 해당 파일을 가져와 그 사본을 캐시에 보관한 다음 사용자에게 반환한다.
- 
